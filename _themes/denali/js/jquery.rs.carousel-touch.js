(function(e){"use strict";var t=e.Widget.prototype;e.widget("rs.draggable3d",{options:{axis:"x",translate3d:false},_create:function(){this.eventNamespace=this.eventNamespace||"."+this.widgetName;this._bindDragEvents();return},_bindDragEvents:function(){var e=this,t=this.eventNamespace;this.element.unbind(t).bind("dragstart"+t,{axis:this.options.axis},function(t){e._start(t)}).bind("drag"+t,function(t){e._drag(t)}).bind("dragend"+t,function(t){e._end(t)});return},_getPosStr:function(){return this.options.axis==="x"?"left":"top"},_start:function(e){this.mouseStartPos=this.options.axis==="x"?e.pageX:e.pageY;if(this.options.translate3d){this.elPos=this.element.css("translate3d")[this.options.axis]}else{this.elPos=parseInt(this.element.position()[this._getPosStr()],10)}this._trigger("start",e);return},_drag:function(e){var t=this.options.axis==="x"?e.pageX:e.pageY,n=t-this.mouseStartPos+this.elPos,r={};if(this.options.translate3d){r.translate3d=this.options.axis==="x"?{x:n}:{y:n}}else{r[this._getPosStr()]=n}this.element.css(r);return},_end:function(e){this._trigger("stop",e);return},_setOption:function(e){t._setOption.apply(this,arguments);if(e==="axis"){this._bindDragEvents()}return},destroy:function(){var e={};if(this.options.translate3d){e.translate3d={}}else{e[this._getPosStr()]=""}this.element.css(e);t.destroy.apply(this);return}})})(jQuery);(function(e){"use strict";var t=e.rs.carousel.prototype;e.widget("rs.carousel",e.rs.carousel,{options:{touch:false,sensitivity:1},_create:function(){t._create.apply(this);this._initDrag();return},_initDrag:function(){var e=this;this.elements.runner.draggable3d({translate3d:this.options.translate3d,axis:this._getAxis(),start:function(t){t=t.originalEvent.touches?t.originalEvent.touches[0]:t;e._dragStartHandler(t)},stop:function(t){t=t.originalEvent.touches?t.originalEvent.touches[0]:t;e._dragStopHandler(t)}});return},_destroyDrag:function(){this.elements.runner.draggable3d("destroy");this.goToPage(this.index,false,undefined,true);return},_getAxis:function(){return this.isHorizontal?"x":"y"},_dragStartHandler:function(e){if(this.options.translate3d){this.elements.runner.removeClass(this.widgetFullName+"-runner-transition")}this.startTime=this._getTime();this.startPos={x:e.pageX,y:e.pageY};return},_dragStopHandler:function(e){var t,n,r,i,s=this._getAxis();this.endTime=this._getTime();t=this.endTime-this.startTime;this.endPos={x:e.pageX,y:e.pageY};n=Math.abs(this.startPos[s]-this.endPos[s]);r=n/t;i=this.startPos[s]>this.endPos[s]?"next":"prev";if(r>this.options.sensitivity||n>this._getMaskDim()/2){if(this.index===this.getNoOfPages()-1&&i==="next"||this.index===0&&i==="prev"){this.goToPage(this.index)}else{this[i]()}}else{this.goToPage(this.index)}return},_getTime:function(){var e=new Date;return e.getTime()},_setOption:function(e,n){t._setOption.apply(this,arguments);switch(e){case"orientation":this._switchAxis();break;case"touch":if(n){this._initDrag()}else{this._destroyDrag()}break}return},_switchAxis:function(){this.elements.runner.draggable3d("option","axis",this._getAxis());return},destroy:function(){this._destroyDrag();t.destroy.apply(this);return}})})(jQuery)